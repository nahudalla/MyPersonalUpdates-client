<div class="centeredContainer">
    <div class="content">
        <form id="loginForm">
            <input type="text" placeholder="Usuario" id="username"><br>
            <input type="password" placeholder="ContraseÃ±a" id="password"><br>
            <input type="submit" value="Ingresar" id="submitBtn">
        </form>
    </div>
</div>

<script type="application/javascript">
    const form = $("#loginForm");
    const username = $("#username");
    const password = $("#password");
    const submitBtn = $("#submitBtn");

    let sending = false;

    form.on("submit", async function (e) {
        e.preventDefault();

        if(sending) return;

        sending = true;

        submitBtn.prop("disabled", true);
        username.prop("disabled", true);
        password.prop("disabled", true);
        submitBtn.prop("value", "Ingresando...");

        try {
            await Auth.login(username.val(), password.val());
        } catch (e) {
            submitBtn.prop("value", "Ingresar");
            submitBtn.prop("disabled", false);
            username.prop("disabled", false);
            password.prop("disabled", false);
            sending = false;
            throw e;
        }
    });
</script>